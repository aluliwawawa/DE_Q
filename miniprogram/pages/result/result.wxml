<!--pages/result/result.wxml-->
<view class="container" wx:if="{{!loading}}">
  <!-- 总分 -->
  <view class="score-section">
    <view class="score-label">{{userNickname}}的德国生存指数</view>
    <view class="score-value">{{totalScore}}</view>
  </view>

  <!-- 建议文案 -->
  <view class="recommendation-section">
    <view class="section-title">评估建议</view>
    <view class="recommendation-text">{{recommendationText}}</view>
  </view>

  <!-- 极端反馈 -->
  <view class="feedback-section" wx:if="{{extremeFeedbackList.length > 0}}">
    <view class="section-title">另外</view>
    <view class="feedback-list">
      <block wx:for="{{extremeFeedbackList}}" wx:key="index">
        <view class="feedback-item">{{item}}</view>
        <view class="feedback-separator" wx:if="{{index < extremeFeedbackList.length - 1}}">
          <text class="separator-text">还有👇</text>
        </view>
      </block>
    </view>
  </view>

  <!-- 引流内容 -->
  <view class="contact-section">
    <view class="section-title">还想再了解下？</view>
    
    <!-- 小助手介绍 -->
    <view class="assistant-intro">
      <text class="share-tip-text">⭐分享可获得额外一次测试机会</text>
      <text class="assistant-title">🫡添加小助手可以</text>
      <view class="assistant-benefits">
        <view class="benefit-item">
          <text class="benefit-bullet">•</text>
          <text class="benefit-text">获得更多测试机会</text>
        </view>
        <view class="benefit-item">
          <text class="benefit-bullet">•</text>
          <text class="benefit-text">为你寻找你工作领域的留德华人</text>
        </view>
        <view class="benefit-item">
          <text class="benefit-bullet">•</text>
          <text class="benefit-text">预约德国职场咨询（免费15分钟）</text>
        </view>
      </view>
    </view>

    <!-- 小助手二维码 -->
    <view class="qrcode-container">
      <image class="qrcode-image" src="{{qrCodeImage}}" mode="aspectFit"></image>
      <text class="qrcode-tip">长按二维码添加小助手</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <button class="share-btn" open-type="share">分享结果</button>
    <button class="home-btn" bindtap="goHome">回到主页</button>
  </view>
</view>

<view class="loading" wx:else>
  <text>加载中...</text>
</view>
